<!doctype html>
{% load static %}
{% block extrahead %}
    <script>window.CKEDITOR_BASEPATH = '/static/ckeditor/ckeditor/';</script>
    {{ block.super }}
{% endblock %}
<html lang="en">
    <head>
        <title>
            {% block title %}
              
            {% endblock title %}
        </title>
        <meta charset="utf-8">
        <link rel="stylesheet" href="{% static 'css/style.css' %}">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="{% static 'css/models/slick/slick.css' %}">
        <link rel="stylesheet" href="{% static 'css/models/slick/slick-theme.css' %}">
        <link  href="https://cdnjs.cloudflare.com/ajax/libs/fotorama/4.6.4/fotorama.css" rel="stylesheet">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi" crossorigin="anonymous">
        <style>
            body{
                overflow-x: hidden;
            }
        </style>
    </head>
    <body>
        {% block content %}

        {% endblock content %}
        <!-- start -->
        <div class="to-top">
            <a href="#">
                <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" fill="currentColor" class="bi bi-arrow-up-circle" viewBox="0 0 16 16">
                    <path fill-rule="evenodd" d="M1 8a7 7 0 1 0 14 0A7 7 0 0 0 1 8zm15 0A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-7.5 3.5a.5.5 0 0 1-1 0V5.707L5.354 7.854a.5.5 0 1 1-.708-.708l3-3a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1-.708.708L8.5 5.707V11.5z"/>
                </svg>
            </a>
        </div>
        <!-- end -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.1/jquery.min.js"></script>
    <script src="{% static 'Js/models/slick/slick.min.js' %}"></script>
    <script src="{% static 'Js/models/marquee/jquery.marquee.min.js' %}"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fotorama/4.6.4/fotorama.js"></script> 
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-OERcA2EqjJCMA+/3y+gxIOqMEjwtxJY7qPCqsdltbNJuaOe923+mo//f6V8Qbsw3" crossorigin="anonymous"></script>
    <script>
        $(document).ready(function(){
            $('.marquee').marquee({
                speed: 80,
            });
            $(".carousel-item:first").addClass('active')
            $('#images-modal').hide();
            $("#slideshow-btn").hide();
            $('#slideshow-btn').click(function(){
                $('#images-modal').slideDown(700);
            })
            $('#close-slideshow').click(function(){
                $('#images-modal').slideUp(700);
            })
            $('#news-row').slick({
                dots: true,
                autoplay: true,
                slidesToShow: 3,
                slidesToScroll: 1,
                autoplaySpeed: 2000,
                prevArrow: '<button type="button" data-role="none" class="slick-prev slick-arrow">Previous</button>',
                nextArrow: '<button type="button" data-role="none" class="slick-next slick-arrow">Next</button>',
                responsive: [
                    {
                    breakpoint: 1024,
                    settings: {
                        slidesToShow: 3,
                        slidesToScroll: 3,
                        infinite: true,
                        dots: true
                    }
                    },
                    {
                    breakpoint: 600,
                    settings: {
                        slidesToShow: 2,
                        slidesToScroll: 2
                    }
                    },
                    {
                    breakpoint: 480,
                    settings: {
                        slidesToShow: 1,
                        slidesToScroll: 1
                    }
                    }
                ]
            });
            $('#areas').slick({
                dots: true,
                autoplay: true,
                slidesToShow: 3,
                slidesToScroll: 1,
                autoplaySpeed: 3000,
                prevArrow: '<button type="button" data-role="none" class="slick-prev slick-arrow">Previous</button>',
                nextArrow: '<button type="button" data-role="none" class="slick-next slick-arrow">Next</button>',
                responsive: [
                    {
                    breakpoint: 1024,
                    settings: {
                        slidesToShow: 3,
                        slidesToScroll: 3,
                        infinite: true,
                        dots: true
                    }
                    },
                    {
                    breakpoint: 600,
                    settings: {
                        slidesToShow: 2,
                        slidesToScroll: 2
                    }
                    },
                    {
                    breakpoint: 480,
                    settings: {
                        slidesToShow: 1,
                        slidesToScroll: 1
                    }
                    }
                ]
            });
            $('#places_card').slick({
                dots: true,
                autoplay: true,
                slidesToShow: 3,
                slidesToScroll: 1,
                autoplaySpeed: 4000,
                prevArrow: '<button type="button" data-role="none" class="slick-prev slick-arrow">Previous</button>',
                nextArrow: '<button type="button" data-role="none" class="slick-next slick-arrow">Next</button>',
                responsive: [
                    {
                    breakpoint: 1024,
                    settings: {
                        slidesToShow: 3,
                        slidesToScroll: 3,
                        infinite: true,
                        dots: true
                    }
                    },
                    {
                    breakpoint: 600,
                    settings: {
                        slidesToShow: 2,
                        slidesToScroll: 2
                    }
                    },
                    {
                    breakpoint: 480,
                    settings: {
                        slidesToShow: 1,
                        slidesToScroll: 1
                    }
                    }
                ]
            });
            
            $('.albom').slick({
                slidesToShow: 1,
                dots:true,
                centerMode: true,
                prevArrow: '<button type="button" data-role="none" class="slick-prev slick-arrow">Previous</button>',
                nextArrow: '<button type="button" data-role="none" class="slick-next slick-arrow">Next</button>',
                
            });

            $(window).scroll(function(){
                if (document.documentElement.scrollTop > 10) {
                    $('.nav-head').addClass('scrol-fixed');
                    $(".to-top").show(500);
                    $("#slideshow-btn").show(500);
                    
                } else {
                    $('.nav-head').removeClass('scrol-fixed');
                    $(".to-top").hide(200);
                    $("#slideshow-btn").hide(200);
                }
            })
            $("#myCarousel").carousel();
            let area = $('#hudud');
            let area2 = $('#area');
            let space = $('#space');
            let spaces2 = $('#spaces');
            area.on('mouseenter', function(){
                area2.slideDown(500);
                spaces2.slideUp(500);
            });
            space.on('mouseenter', function(){
                area2.slideUp(500);
                spaces2.slideDown(500);
            });
            $(window).click(function(){
                if (area2.is(':visible') || spaces2.is(':visible')) {
                    area2.slideUp(500);
                    spaces2.slideUp(500);
                }
            });
            let poll_form = $('.poll_question_form .vote');
            let poll_answer = $('.poll_answers').hide();
            poll_form.click(function(){
                poll_form.css('diplay', 'none');
                poll_answer.show(200);
            })
        })
        let path, domain_host, domain_protocol, domain_len, uz, ru, en, domain, url_lang, url_main
        path = document.location.href
        domain_host = document.location.host
        domain_protocol = document.location.protocol
        domain_len = `${domain_protocol}//${domain_host}`.length
        domain = window.location.href.slice(0, domain_len)
        if (path.includes('/en/') || path.includes('/ru/') || path.includes('/uz/')) {
            url_lang = window.location.href.slice(domain_len, domain_len+3)
            console.log(url_lang)
        }
        else{
            url_lang = window.location.href.slice(domain_len)
            console.log(url_lang)
        }
        url_main = document.location.pathname.slice(url_lang.length)
        uz = document.getElementById('lang_uz')
        ru = document.getElementById('lang_ru')
        en = document.getElementById('lang_en')
        console.log(window.location.href)
        uz.href = `${domain_protocol}//${domain_host}/uz${url_main}`
        ru.href = `${domain_protocol}//${domain_host}/ru${url_main}`
        en.href = `${domain_protocol}//${domain_host}/en${url_main}`

    </script>
    </body>
</html>